<div class="layout">
    <!-- Sidebar -->
    <aside class="sidebar">
        <div class="logo">
            <img src="assets/images/KonradGourmetLogo.png" alt="Konrad Gourmet" />
        </div>

        <nav>
            <a routerLink="/inicio"><i class="fa-solid fa-house"></i> Inicio</a>
            <a routerLink="/home_sucursal"><i class="fa-solid fa-building"></i> Sucursales</a>
            <a routerLink="/proveedores"><i class="fa-solid fa-truck"></i> Proveedores</a>
            <a routerLink="/inventario"><i class="fa-solid fa-box"></i> Inventario</a>
            <a routerLink="/listas"><i class="fa-solid fa-list"></i> Listas</a>
            <a routerLink="/auditorias"><i class="fa-solid fa-clipboard-check"></i> Auditorías</a>
            <a routerLink="/errores"><i class="fa-solid fa-triangle-exclamation"></i> Errores</a>
            <a routerLink="/usuarios" class="active"><i class="fa-solid fa-users"></i> Usuarios y roles</a>
        </nav>
    </aside>

    <!-- Contenido principal -->
    <div class="content">
        <!-- Header -->
        <header class="header">
            <input type="text" placeholder="Buscar..." class="search" />
            <button class="alerta"><i class="fas fa-bell"></i> 1 Alerta: Stock bajo</button>
            <div class="user">
                <span><i class="fas fa-user-shield"></i> Administrador</span>
                <button class="logout"><i class="fas fa-sign-out-alt"></i> Cerrar Sesión</button>
            </div>
        </header>

        <!-- Formulario crear usuario -->
        <section class="form-section">
            <div class="form-container">
                <h2><i class="fa-solid fa-user-plus"></i> Crear nuevo usuario</h2>

                <!-- Formulario con etiqueta form -->
                <form (ngSubmit)="crearUsuario()" [formGroup]="usuarioForm">
                    <div class="form-card">
                        <h3><i class="fa-solid fa-id-card"></i> Información principal</h3>

                        <div class="form-grid">
                            <div>
                                <label>Nombre Completo</label>
                                <input type="text" name="nombre" placeholder="Ej: Juan Pérez" required
                                    formControlName="nombre" />
                            </div>
                            <div>
                                <label>Contraseña</label>
                                <input type="password" name="contraseña" placeholder="Ej: Juan Pérez" required
                                    formControlName="contrasena" />
                            </div>
                            <div>
                                <label>Correo electrónico</label>
                                <input type="email" name="email" placeholder="usuario@ejemplo.com" required
                                    formControlName="correo" />
                            </div>

                            <div style="grid-column: 1 / -1;">
                                <label>Cargo / Rol</label>
                                <select name="cargo" formControlName="id_rol" required>
                                    <option value="">Seleccionar cargo</option>
                                    <option *ngFor="let rol of roles" [value]="rol.id_rol">
                                        {{ rol.nombre_rol }}
                                    </option>
                                </select>
                            </div>

                            <div style="grid-column: 1 / -1;">
                                <label>Sucursal</label>
                                <select name="cargo" formControlName="id_sucursal" required>
                                    <option value="">Seleccionar sucursal</option>
                                    <option *ngFor="let su of sucursales" [value]="su.id_sucursal">
                                        {{ su.nombre}}
                                    </option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <!-- Botones -->
                    <div class="form-actions">
                        <button class="btn-primary" type="submit" [disabled]="usuarioForm.invalid">
                            <i class="fa-solid fa-user-plus"></i> Guardar usuario
                        </button>

                        <button class="btn-cancel" type="button">
                            <i class="fa-solid fa-xmark"></i> Cancelar
                        </button>
                    </div>
                </form>
            </div>
        </section>
    </div>
</div>

<!-- Modal de notificación -->
<app-modal-notificacion [visible]="modalVisible" [titulo]="modalTitulo" [mensaje]="modalMensaje" [tipo]="modalTipo"
    (cerrar)="cerrarModal()">
</app-modal-notificacion>
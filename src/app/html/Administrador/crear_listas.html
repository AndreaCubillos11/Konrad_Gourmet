<div class="layout">
    <!-- SIDEBAR -->
    <div class="sidebar">
        <div class="logo">
            <img src="assets/images/KonradGourmetLogo.png" alt="Konrad Gourmet" />
        </div>
        <ul>
            <li><i class="fas fa-home"></i> Inicio</li>
            <li><i class="fa-solid fa-building"></i> Sucursales</li>
            <li><i class="fas fa-truck"></i> Proveedores</li>
            <li><i class="fa-solid fa-box"></i> Inventario</li>
            <li class="active"><i class="fa-solid fa-list"></i> Listas</li>
            <li><i class="fa-solid fa-clipboard-check"></i> Auditorías</li>
            <li><i class="fa-solid fa-triangle-exclamation"></i> Errores</li>
            <li><i class="fa-solid fa-users"></i> Usuarios y roles</li>
        </ul>
    </div>

    <!-- CONTENT -->
    <div class="content">
        <!-- HEADER -->
        <div class="header">
            <input type="text" class="search" placeholder="Buscar..." />
            <button class="alerta"><i class="fas fa-bell"></i> 1 alerta: Stock bajo</button>
            <div class="user"><i class="fas fa-user-shield"></i> Administrador</div>
            <button class="logout">
                <i class="fas fa-sign-out-alt"></i> Cerrar Sesión
            </button>
        </div>

        <!-- MAIN -->
        <div class="main-content">
            <div class="card full-width">
                <h3><i class="fas fa-list"></i> Añadir a Lista</h3>
                <div class="form-group">
                    <label>Nombre de la lista</label>
                    <select [(ngModel)]="opcionSeleccionada" (change)="cambiarEtiqueta()">
                        <option value="" disabled selected>Seleccione una opción</option>
                        <option value="categoria-plato">Categoría de plato</option>
                        <option value="categoria-producto">Categoría de producto</option>
                        <option value="unidad-medida">Unidad de medida</option>
                        <option value="producto">Producto</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>{{ etiquetaDinamica }}</label>

                    <!-- Categoría Plato -->
                    <form [formGroup]="catPlatoForm" *ngIf="opcionSeleccionada === 'categoria-plato'">
                        <input type="text" formControlName="categoria_Plato" placeholder="Prueba cat plato" />
                    </form>

                    <!-- Categoría Producto -->
                    <form [formGroup]="catProductoForm" *ngIf="opcionSeleccionada === 'categoria-producto'">
                        <input type="text" formControlName="nombre_Categoria" />
                    </form>

                    <!-- Unidad de medida -->
                    <form [formGroup]="unidadForm" *ngIf="opcionSeleccionada === 'unidad-medida'">
                        <input type="text" formControlName="nombre_Unidad" />
                    </form>

                    <!-- Producto -->
                    <form [formGroup]="productoForm" *ngIf="opcionSeleccionada === 'producto'">
                        <input type="text" formControlName="nombre" placeholder="Nombre del producto" />

                        <select formControlName="id_categoria">
                            <option value="" disabled selected>Seleccione categoría</option>
                            <option *ngFor="let cat of categorias" [value]="cat.id">{{ cat.nombre }}</option>
                        </select>

                        <select formControlName="id_marca">
                            <option value="" disabled selected>Seleccione marca</option>
                            <option *ngFor="let marca of marcas" [value]="marca.id">{{ marca.nombre }}</option>
                        </select>

                        <select formControlName="id_unidad">
                            <option value="" disabled selected>Seleccione unidad</option>
                            <option *ngFor="let unidad of unidades" [value]="unidad.id">{{ unidad.nombre }}</option>
                        </select>
                    </form>
                </div>



                <hr />

                <h4><i class="fas fa-plus-circle"></i> Agregar Ítems</h4>
                <div class="form-row">
                    <input type="text" placeholder="Buscar por nombre o SKU" />
                    <input type="text" placeholder="Proveedor: Compañía de cosecha fresca" />
                </div>

                <table>
                    <thead>
                        <tr>
                            <th>Artículo</th>
                            <th>Cantidad predeterminada</th>
                            <th>Unidad</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>—</td>
                            <td>—</td>
                            <td>—</td>
                        </tr>
                    </tbody>
                </table>

                <div class="modal-actions">
                    <button class="btn-primary"><i class="fas fa-save"></i> Crear Lista</button>
                    <button class="btn-secondary">
                        <i class="fas fa-times"></i> Cancelar
                    </button>
                </div>
            </div>
        </div>
    </div>